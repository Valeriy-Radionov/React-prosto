{"ast":null,"code":"var _jsxFileName = \"/Users/valera/Documents/putSamurayaTsJs/ReactProsto/react-prosto/src/components/Select/Select.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport s from \"./Select.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Select = props => {\n  _s();\n\n  console.log(\"Select rendering\");\n  const [active, setActive] = useState(false);\n  const [hoveredElementValue, setHoveredElementValue] = useState(props.value);\n  const selectedItem = props.items.find(i => i.value === props.value);\n  const hoveredItem = props.items.find(i => i.value === hoveredElementValue);\n  useEffect(() => {\n    setHoveredElementValue(props.value);\n  }, [props.value]);\n\n  const toggleItems = () => {\n    setActive(!active);\n  };\n\n  const onItemClick = value => {\n    props.onChange(value);\n    toggleItems();\n  };\n\n  const onKeyUp = e => {\n    console.log(\"Working\");\n\n    if (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\n      for (let i = 0; i < props.items.length; i++) {\n        if (props.items[i].value === hoveredElementValue) {\n          const pretendentElement = e.key === \"ArrowDown\" ? props.items[i + 1] : props.items[i - 1];\n\n          if (pretendentElement) {\n            props.onChange(pretendentElement.value);\n            return;\n          }\n        }\n      }\n\n      if (!selectedItem) {\n        props.onChange(props.items[0].value);\n      }\n    }\n\n    if (e.key === \"Enter\" || e.key === \"Escape\") {\n      setActive(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.select,\n      onKeyUp: onKeyUp,\n      tabIndex: 0,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: s.main,\n        onClick: toggleItems,\n        children: selectedItem ? selectedItem.title : \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), active && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.items,\n        children: props.items.map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          onMouseEnter: () => {\n            setHoveredElementValue(i.value);\n          },\n          className: `${s.item} ${hoveredItem === i ? s.select : \"\"}`,\n          onClick: () => onItemClick(i.value),\n          children: i.title\n        }, i.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 47\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Select, \"+lVfozSNuh6svoVL5okhMO0u8FE=\");\n\n_c = Select;\n\nvar _c;\n\n$RefreshReg$(_c, \"Select\");","map":{"version":3,"names":["React","useEffect","useState","s","Select","props","console","log","active","setActive","hoveredElementValue","setHoveredElementValue","value","selectedItem","items","find","i","hoveredItem","toggleItems","onItemClick","onChange","onKeyUp","e","key","length","pretendentElement","select","main","title","map","item"],"sources":["/Users/valera/Documents/putSamurayaTsJs/ReactProsto/react-prosto/src/components/Select/Select.tsx"],"sourcesContent":["import React, {KeyboardEvent, useEffect, useState} from 'react';\nimport s from \"./Select.module.css\"\n\ntype SelectItemType = {\n    title: string,\n    value: any\n}\nexport type SelectPropsType = {\n    value?: any,\n    onChange: (value: any) => void,\n    items: SelectItemType[]\n}\n\nexport const Select = (props: SelectPropsType) => {\n    console.log(\"Select rendering\");\n    const [active, setActive] = useState(false)\n    const [hoveredElementValue, setHoveredElementValue] = useState(props.value)\n    const selectedItem = props.items.find(i => i.value === props.value)\n    const hoveredItem = props.items.find(i => i.value === hoveredElementValue)\n    useEffect(() => {\n        setHoveredElementValue(props.value)\n    }, [props.value])\n    const toggleItems = () => {\n        setActive(!active)\n    }\n    const onItemClick = (value: any) => {\n        props.onChange(value)\n        toggleItems()\n    }\n    const onKeyUp = (e: KeyboardEvent<HTMLDivElement>) => {\n        console.log(\"Working\")\n        if (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\n            for (let i = 0; i < props.items.length; i++) {\n                if (props.items[i].value === hoveredElementValue) {\n                    const pretendentElement = e.key === \"ArrowDown\" ? props.items[i + 1] : props.items[i - 1]\n                    if (pretendentElement) {\n                        props.onChange(pretendentElement.value)\n                        return\n                    }\n                }\n            }\n            if (!selectedItem) {\n                props.onChange(props.items[0].value)\n            }\n        }\n        if (e.key === \"Enter\" || e.key === \"Escape\") {\n            setActive(false)\n        }\n\n    }\n    return (\n        <>\n            <div className={s.select} onKeyUp={onKeyUp} tabIndex={0}>\n                <span className={s.main} onClick={toggleItems}>{selectedItem ? selectedItem.title : \"No\"}</span>\n                {active &&\n                    <div className={s.items}>\n                        {props.items.map(i => <div onMouseEnter={() => {\n                            setHoveredElementValue(i.value)\n                        }} className={`${s.item} ${hoveredItem === i ? s.select : \"\"}`}\n                                                   onClick={() => onItemClick(i.value)}\n                                                   key={i.value}>{i.title}</div>)}\n                    </div>\n                }\n            </div>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}